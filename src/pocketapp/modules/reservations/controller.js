angular.module("reservation.controller",["AfasServices"]).controller("ReservationsController",["$scope","$window","$timeout","ReservationServiceFactory","ConnectorService","ConfigService","ListServiceFactory",function(e,n,r,t,l,i,o){function a(){e.loading=!0,s.getReservations().then(function(n){n=c(n,"placement"),e.reservations=c(n,"employee"),e.loading=!1,e.$broadcast("scroll.refreshComplete")})}function c(e,n){for(var r,t,l=null,i=0;i<e.length;i++){switch(n){case"placement":r=null==e[i].placement_id?null:e[i].placement_id,t=e[i].placement_description?e[i].placement_description:atrans("general","Algemeen");break;case"employee":r=null==e[i].placement_id?e[i].employee_id:l,t=null===e[i].placement_id?atrans("general","Algemeen")+" ("+e[i].employee_id+")":null}l===r||e[i].divider||(l=r,e.splice(i,0,{divider:t}))}return e}var s=t.getInstance();o.getInstance();e.pageTitle=atrans("reservations","Reserveringen"),e.refreshText=atrans("refreshtext","Laat los om te verversen"),e.refresh=function(){a()},e.$on("$ionicView.beforeEnter",function(){a()})}]);