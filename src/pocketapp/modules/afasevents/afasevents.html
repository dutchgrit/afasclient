<ion-view view-title="{{pageTitle}}" class="afasbackgroundcolor">
  <ion-nav-buttons side="right">
    <span class="icon afaslistloading"><ion-spinner ng-if="$root.showLoading['Pocket_AFASGROEP_Event_Participants']"></ion-spinner></span>
    <div ng-if="!$root.showLoading['Pocket_AFASGROEP_Event_Participants']" ng-include="'modules/app/corebuttons.html'"></div>
  </ion-nav-buttons>
  <ion-header-bar class="bar-light bar-subheader afasContactsHeader afasbackgroundcolor" style="height:auto;">
    <div class="list list-inset list-inset-small-margins">
      <div class="card withoutmarginsandpadding">
        <div class="item item-icon-left afassearchbar">
          <i class="icon ion-search placeholder-icon"></i>
          <form ng-submit="searchEvents()">
            <input type="search" autocorrect="off" placeholder="{{::searchplaceholder}}" ng-model="fetchData.query" 
                   id="searchEvents" class="afassearchbarfullwidth">
          </form>          
        </div>
      </div>
    </div>
    <div ng-if="recent.length > 0" class="afassearchitems list">
      <div ng-repeat="r in recent" class="item item-icon-left item-icon-right afasRecentItem" ng-click="clickRecent(r)">
        <p>{{::r}}</p>
        <i ng-click="removeItem($event, r)" class="icon ion-close afassearchitemclose"></i>
      </div>
    </div>
  </ion-header-bar>
  <ion-content class="has-searchbar">
    <ion-refresher pulling-text="{{refreshText}}" on-refresh="getEvents()"></ion-refresher>
    <div ng-if="afasliveevents.length > 0" class="item item-divider">
      <img src="img/afaslive.png" />
    </div>
    <div ng-if="afasliveevents.length > 0">
      <div class="item  item-icon-right" ng-repeat="afasevent in afasliveevents" ng-click="pickItem(afasevent.Index)">
        <h2>{{::afasevent.Name}} ({{::afasevent.CheckedInTotal}}/{{::afasevent.Participants}})</h2>
        <p>{{::afasevent.Date | date : "fullDate" : "+0000"}} {{::afasevent.TimeSpan}}</p>
        <div ng-if="afasevent.UserAttended" class="icon afashomenotificationholder"><span class="afashomenotification"></span></div>
        <i class="icon ion-chevron-right icon-accessory"></i>
      </div>
    </div>
    <div ng-if="azevents.length > 0" class="item item-divider">
      <img src="img/az.png" style="vertical-align:middle; margin-right:10px;" /> Skybox
    </div>
    <div ng-if="azevents.length > 0">
      <div class="item  item-icon-right" ng-repeat="afasevent in azevents" ng-click="pickItem(afasevent.Index)">
        <h2>{{::afasevent.Name}} ({{::afasevent.CheckedInTotal}}/{{::afasevent.Participants}})</h2>
        <p>{{::afasevent.Date | date : "fullDate": "+0000" }} {{::afasevent.TimeSpan}}</p>
        <div ng-if="afasevent.UserAttended" class="icon afashomenotificationholder"><span class="afashomenotification"></span></div>
        <i class="icon ion-chevron-right icon-accessory"></i>
      </div>
    </div>
    <div ng-if="azevents2.length > 0" class="item item-divider">
      <img src="img/az.png" style="vertical-align:middle; margin-right:10px;" /> Kessler Zaal
    </div>
    <div ng-if="azevents2.length > 0">
      <div class="item  item-icon-right" ng-repeat="afasevent in azevents2" ng-click="pickItem(afasevent.Index)">
        <h2>{{::afasevent.Name}} ({{::afasevent.CheckedInTotal}}/{{::afasevent.Participants}})</h2>
        <p>{{::afasevent.Date | date : "fullDate": "+0000"  }} {{::afasevent.TimeSpan}}</p>
        <div ng-if="afasevent.UserAttended" class="icon afashomenotificationholder"><span class="afashomenotification"></span></div>
        <i class="icon ion-chevron-right icon-accessory"></i>
      </div>
    </div>
    <div ng-if="afastheaterevents.length > 0" class="item item-divider">
      <img src="img/davincy.png" style="height:32px; vertical-align:middle; margin-right:10px;" /> Da Vinci Theater
    </div>
    <div ng-if="afastheaterevents.length > 0">
      <div class="item  item-icon-right" ng-repeat="afasevent in afastheaterevents" ng-click="pickItem(afasevent.Index)">
        <h2>{{::afasevent.Name}} ({{::afasevent.CheckedInTotal}}/{{::afasevent.Participants}})</h2>
        <p>{{::afasevent.Date | date : "fullDate" : "+0000"}} {{::afasevent.TimeSpan}}</p>
        <div ng-if="afasevent.UserAttended" class="icon afashomenotificationholder"><span class="afashomenotification"></span></div>
        <i class="icon ion-chevron-right icon-accessory"></i>
      </div>
    </div>
    <div ng-if="afasotherevents.length > 0" class="item item-divider">
      <img src="img/AFAS40.png" style="height:32px; vertical-align:middle; margin-right:10px;" /> Overig
    </div>
    <div ng-if="afasotherevents.length > 0">
      <div class="item  item-icon-right" ng-repeat="afasevent in afasotherevents" ng-click="pickItem(afasevent.Index)">
        <h2>{{::afasevent.Name}} ({{::afasevent.CheckedInTotal}}/{{::afasevent.Participants}})</h2>
        <p>{{::afasevent.Date | date : "fullDate" : "+0000"}} {{::afasevent.TimeSpan}}</p>
        <div ng-if="afasevent.UserAttended" class="icon afashomenotificationholder"><span class="afashomenotification"></span></div>
        <i class="icon ion-chevron-right icon-accessory"></i>
      </div>
    </div>
  </ion-content>
</ion-view>
